<!DOCTYPE html>
<html>
  <head>
    <title>EigoPost</title>
    <%= csrf_meta_tags %>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>
  <body class="devise-bg">
    <% if flash[:notice] %>
      <div class="alert alert-dismissible alert-success">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <%= flash[:notice] %>
      </div>
    <% elsif flash[:alert] %>
      <div class="alert alert-dismissible alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <%= flash[:alert] %>
      </div>
    <% end %>

    <div class="container margin-t-5p text-center">
    <h2><%= link_to "EigoPost", root_path, class: "devise-logo" %></h2>
      <div class="devise-col">
        <h2 class="color-2a margin-t-0">change your settings<%#= resource_name.to_s.humanize %></h2>
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
        <%= devise_error_messages! %>
        <div class="field">
          <%= f.label :username, class: "color-2a" %><br />
          <%= f.text_field :username, autofocus: true %>
        </div>
        <br>
        <div class="field">
          <%= f.label :email, class: "color-2a" %><br />
          <%= f.email_field :email, autofocus: true %>
        </div>
        <br>
        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
        <% end %>
        <div class="field">
          <%= f.label :password, class: "color-2a" %> <br />
          <%= f.password_field :password, autocomplete: "off", placeholder: "leave blank if not changing"  %>
          <% if @minimum_password_length %>
            <br />
            <em><%= @minimum_password_length %> characters minimum</em>
          <% end %>
        </div>
        <br>
        <div class="field">
          <%= f.label :password_confirmation, class: "color-2a" %><br />
          <%= f.password_field :password_confirmation, autocomplete: "off" %>
        </div>
        <div class="field">
          <%= f.label :current_password, class: "color-2a" %> <i class="color-2">(necessary to confirm these changes)</i><br />
          <%= f.password_field :current_password, autocomplete: "off" %>
        </div>
        <br />
        <div class="actions">
          <%= f.submit "Update", class: "btn btn-success" %>
        </div>
      <% end %>
      <hr class="color-1a">
      <h3 class="color-1a">Cancel account</h3>
      <p class="color-2b">Are you sure?.. Ok... We will miss you... <%= button_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: "btn btn-success" %></p>

    </div>
  </div>
</body>
</html>
